---
const startDate = new Date('2025-03-09T00:00:00');
---

<div class="text-white text-xl font-bold flex flex-col items-center p-4">
    <span>Estamos juntos há: </span>
  <span id="contador">Carregando contador...</span>
</div>

<script>
  // Espera o DOM carregar
  document.addEventListener("DOMContentLoaded", function () {
    const startDate: Date = new Date("2025-03-09T00:00:00");

    function updateCounter() {
      const now: Date = new Date();
      let diff: number = now.getTime() - startDate.getTime();

      if (diff < 0) diff = 0;

      const seconds = Math.floor(diff / 1000);
      const minutes = Math.floor(seconds / 60);
      const hours = Math.floor(minutes / 60);
      const days = Math.floor(hours / 24);

      let remainingSeconds = seconds % 60;
      let remainingMinutes = minutes % 60;
      let remainingHours = hours % 24;

      const years = Math.floor(days / 365);
      const months = Math.floor((days % 365) / 30);
      const remainingDays = (days % 365) % 30;

      const text = `${years} ano${years !== 1 ? 's' : ''} ${months} mês${months !== 1 ? 'es' : ''} ${remainingDays} dia${remainingDays !== 1 ? 's' : ''} ${remainingHours} hora${remainingHours !== 1 ? 's' : ''} ${remainingMinutes} minuto${remainingMinutes !== 1 ? 's' : ''} ${remainingSeconds} segundo${remainingSeconds !== 1 ? 's' : ''}`;

      const el = document.getElementById("contador");
      if (el) el.textContent = text;
    }

    updateCounter();
    setInterval(updateCounter, 1000);
  });
</script>
